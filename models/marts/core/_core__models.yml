version: 2

models:
  - name: dim_order_conformed
    description: "Dimensión de órdenes conformadas con datos enriquecidos desde tracking"
    tests:
      - unique:
          column_name: order_id
      - not_null:
          column_name: order_id
    columns:
      - name: shipping_service
        description: "Empresa de envío asociada al tracking_id"


version: 2

models:
  - name: dim_order_conformed
    description: "Dimensión de órdenes conformadas con datos enriquecidos desde tracking"
    columns:
      - name: order_id
        data_type: varchar
        description: ""

      - name: user_id
        data_type: varchar
        description: ""

      - name: address_id
        data_type: varchar
        description: ""

      - name: promo_id
        data_type: varchar
        description: ""

      - name: tracking_id
        data_type: varchar
        description: ""

      - name: shipping_service
        data_type: varchar
        description: "Empresa de envío asociada al tracking_id"

      - name: order_status
        data_type: varchar
        description: ""

      - name: estimated_delivery_at
        data_type: timestamp_tz
        description: ""

  - name: fct_order_items
    description: ""
    columns:
      - name: order_id
        data_type: varchar
        description: ""

      - name: product_id
        data_type: varchar
        description: ""

      - name: quantity_product
        data_type: number
        description: ""

      - name: product_total_cost
        data_type: float
        description: ""

  - name: fct_orders
    description: ""
    columns:
      - name: order_id
        data_type: varchar
        description: ""

      - name: shipping_cost
        data_type: float
        description: ""

      - name: order_cost
        data_type: float
        description: ""

      - name: order_total
        data_type: float
        description: ""

      - name: order_created_at
        data_type: timestamp_tz
        description: ""

      - name: delivered_at
        data_type: timestamp_tz
        description: ""
